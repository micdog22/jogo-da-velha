/* styles.css - Visual moderno com suporte a tema claro/escuro */
:root {
  --bg:#0c1020; --bg-2:#121830; --ink:#eaf1ff; --muted:#a3b0cf;
  --brand:#4cb5ff; --brand-2:#7ae0ff; --danger:#ff5a79; --ok:#4fe3a1;
  --card:#141a33; --stroke:#20284a; --stroke-2:#2a3360;
  --shadow:0 10px 30px rgba(0,0,0,.35);
  --ring: 0 0 0 3px rgba(76,181,255,.25);
}
:root[data-theme="light"] {
  --bg:#f7f8fc; --bg-2:#ffffff; --ink:#0c1020; --muted:#4a5676;
  --brand:#1857ff; --brand-2:#6da3ff; --danger:#e53935; --ok:#1dbf73;
  --card:#ffffff; --stroke:#e6e9f5; --stroke-2:#d9deef;
  --shadow:0 10px 30px rgba(0,0,0,.08);
  --ring: 0 0 0 3px rgba(24,87,255,.18);
}

*{box-sizing:border-box} html,body{height:100%}
body{
  margin:0; color:var(--ink);
  font-family:'Manrope',system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Arial,sans-serif;
  background:
    radial-gradient(1200px 800px at 80% -10%, rgba(124,208,255,.14), transparent 60%),
    radial-gradient(1200px 800px at 10% 110%, rgba(163,123,255,.12), transparent 60%),
    var(--bg);
}
.page{min-height:100%; display:grid; grid-template-rows:auto 1fr auto}

/* Topbar */
.topbar{
  display:flex; align-items:center; justify-content:space-between;
  padding:18px 24px; border-bottom:1px solid var(--stroke); background:var(--bg-2);
  position:sticky; top:0; z-index:10; backdrop-filter:blur(6px)
}
.title{margin:0; font-size:24px; letter-spacing:.2px}
.controls{display:flex; gap:10px}

/* Botões */
.btn{
  border:1px solid transparent; padding:10px 14px; border-radius:12px;
  background:var(--card); color:var(--ink); cursor:pointer; box-shadow:var(--shadow);
  transition:transform .1s ease, filter .2s ease, background .2s ease, border-color .2s ease;
}
.btn:hover{transform:translateY(-1px); filter:brightness(1.05)}
.btn:active{transform:translateY(0)}
.btn.primary{background:linear-gradient(135deg,var(--brand),var(--brand-2)); color:#fff}
.btn.outline{background:transparent; border-color:var(--stroke)}
.btn.ghost{background:transparent; border-color:transparent}
.btn.danger{background:linear-gradient(135deg,var(--danger),#ff8aa1); color:#fff}

/* Main */
main{padding:24px; display:grid; gap:22px; max-width:920px; margin:0 auto}

/* Status / placar */
.status-panel{
  background:var(--card); border:1px solid var(--stroke); border-radius:16px; padding:18px;
  display:grid; gap:14px; box-shadow:var(--shadow)
}
.mode-pill{
  display:inline-flex; gap:10px; align-items:center; font-size:14px; color:var(--muted);
  background:rgba(255,255,255,.03); border:1px solid var(--stroke); padding:8px 12px; border-radius:999px
}
.status-line{font-size:18px}
.score{display:grid; grid-template-columns:repeat(3,1fr); gap:12px}
.score-box{background:var(--bg-2); border:1px solid var(--stroke); border-radius:12px; padding:12px; text-align:center}
.score-box span{display:block; color:var(--muted); font-size:13px}
.score-box strong{font-size:20px}

/* Tabuleiro */
.board{
  --size:min(92vw,520px);
  width:var(--size); height:var(--size); margin:0 auto;
  display:grid; grid-template-columns:repeat(3,1fr); grid-template-rows:repeat(3,1fr); gap:10px
}
.cell{
  background:var(--card); border:1px solid var(--stroke); border-radius:16px;
  display:grid; place-items:center; font-weight:800; font-size:clamp(52px,10vmin,90px);
  cursor:pointer; user-select:none; position:relative; overflow:hidden;
  transition:transform .08s ease, border-color .2s ease, background .2s ease
}
.cell:hover{transform:translateY(-2px)} .cell:active{transform:translateY(0)}
.cell .mark{transform:scale(.8); opacity:0; animation:pop .2s ease-out forwards; text-shadow:0 8px 30px rgba(0,0,0,.35)}
@keyframes pop{to{transform:scale(1); opacity:1}}
.winner{outline:3px solid var(--ok)} .winner .mark{color:var(--ok)!important}

.actions{display:flex; gap:12px; justify-content:center}

/* Footer */
.footer{
  padding:18px 24px; border-top:1px solid var(--stroke); background:var(--bg-2);
  display:flex; justify-content:space-between; align-items:center; color:var(--muted)
}

/* ===== Modal (corrigido e bonito) ===== */
.dialog{border:none; padding:0; background:transparent}
.dialog::backdrop{background:rgba(0,0,0,.5); backdrop-filter:blur(4px)}

.dialog-card{
  width:min(92vw,720px);
  background:linear-gradient(180deg, var(--card), var(--bg-2));
  border:1px solid var(--stroke-2);
  border-radius:20px; padding:22px; box-shadow:var(--shadow);
  display:flex; flex-direction:column; gap:18px;
}
.dialog-card h2{margin:0 0 4px 0; font-size:24px}

.grid-2{display:grid; grid-template-columns:1fr 1fr; gap:16px}
@media (max-width:640px){ .grid-2{grid-template-columns:1fr} }

.field{
  background:rgba(255,255,255,.02);
  border:1px solid var(--stroke);
  border-radius:14px; padding:14px; display:flex; flex-direction:column; gap:8px
}
.label{font-size:13px; color:var(--muted); letter-spacing:.2px}

/* Radios alinhados */
.radio{display:flex; align-items:center; gap:8px; font-size:15px}
.radio input[type="radio"]{
  width:18px; height:18px; accent-color: var(--brand);
}

/* Select estilizado */
select{
  width:100%; padding:10px 12px; border-radius:12px; border:1px solid var(--stroke);
  background:var(--bg-2); color:var(--ink); font-size:15px;
  outline:none; transition:border-color .2s ease, box-shadow .2s ease, background .2s ease;
  appearance:none;
  background-image:
    linear-gradient(45deg, transparent 50%, var(--muted) 50%),
    linear-gradient(135deg, var(--muted) 50%, transparent 50%),
    linear-gradient(to right, transparent, transparent);
  background-position:
    calc(100% - 18px) calc(50% - 3px),
    calc(100% - 12px) calc(50% - 3px),
    calc(100% - 30px) 50%;
  background-size:6px 6px, 6px 6px, 1px 1.8em;
  background-repeat:no-repeat;
}
select:focus{border-color:var(--brand); box-shadow:var(--ring)}
select:hover{filter:brightness(1.02)}

/* Ações do dialog */
.dialog-actions{
  display:flex; gap:10px; justify-content:flex-end; margin-top:6px
}
.dialog-actions .btn{min-width:110px}
.dialog-actions .btn.ghost{background:transparent; border-color:var(--stroke)}

/* Estados de foco acessíveis */
button:focus-visible, .cell:focus-visible, a:focus-visible, input:focus-visible, select:focus-visible{
  outline:none; box-shadow:var(--ring)
}

/* Ajustes responsivos extras */
@media (max-width:420px){
  .controls{gap:6px}
  .btn{padding:9px 12px}
}
